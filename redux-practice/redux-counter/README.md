모든 내용은 VELOPERT.LOG를 보고 개인적으로 공부하기위해 필기, 실습한 예재들입니다.

## 프로젝트 생성하기

터미널에서 create-react-app을 이용해 프로젝트를 만들어줍니다.

```
npx create-react-app redux-counter
```

그 다음 redux-counter 디렉토리 내부로 들어가서 redux와 react-redux를 yarn을 이용해 설치하세요
```
yarn add redux react-redux
```

> react-redux는 reudx를 컴포넌트 상에서 더 간편하게 사용할 수 있게 해주는 라이브러리 입니다. 이걸 사용하면, 컴포넌트에서 스토어를 props로 받아오거나, subscribe를 직접 할 필요가 없습니다.

### 프로젝트 초기화

다음 파일들을 제거하세요 
- App.css
- App.js
- APp.test.js
- logo.svg

### 디렉토리 생성

src 디렉토리 내부에 다음과 같은 디렉토리를 만들어 주세요.
각 디렉토리들의 기능들은 밑에서 설명합니다.
- action
- components
- containers
- reducers
- utils

## Redux 스토어 생성

스토어는 리덕스의 가장 핵심적인 인스턴스입니다.
이 안에 현재 상태를 내장하고있고 구독(subscribe)중인 함수들이
상태가 업데이트 될 때 마다 다시 실행되게 해주죠

스토어를 만드는 방법은 생각보다 간단합니다.
redux에서 `createStore`를 불러온 다음 해당 함수의 파라미터로
만들어둔 리듀서를 넣어주면 됩니다.

자세한 방법은 src/index.js를 참조해주세요

## 디렉토리 설명

src 디렉토리 내부의 디렉토리들의 역활은 다음과 같습니다.

### action
액션타입, 액션생성자 파일이 저장됩니다.

atcion은 하나의 객체입니다. 모든 액션 객체는 type이라는 값을 지니고 있어야 합니다.
```jsx
{
  type: "INCREMENT"
}
{
  type: "DECREMENT"
}
```
만약 액션과 함께 전달해야할 값이 있을 경우엔 추가해서 만들어주면 됩니다.
```jsx
{
  type: "SET_COLOR"
  color: "black"
}
```
여기서 type은 액션의 이름과도 같은 존재입니다.
나중에 리듀서가 액션을 전달받으면 이 값에 따라서 다른 작업을 하기도 합니다.

그런데 이 값을 사용할때마다 모두 그냥 문자열로 사용한다면 관리하기 조금 히들어질수도 있는데요
이 값들을 따로 파일을 만들어서 저장하면 조금 편리해집니다.

파일로 만들어 사용하는 방법은 src/actions/ActionTypes.js를 참조하면 됩니다.

#### 액션 생성자 만들기

액션을 만들때마다 객체를 그때그때 만들기는 힘들겠죠?
그래서 우리는 액션을 만드는 함수를 만들겠습니다.

이를 **액션 생성자**라고 부릅니다. 
액션 생성자를 만드는 방법은 src/action/index.js를 참조하면 됩니다.

### components
뷰만을 담당하는 presentational 컴포넌트들이 저장됩니다.

#### Presentational 컴포넌트

프리젠테이셔널 컴포넌트는 오직 뷰만을 담당하는 컴포넌트입니다.

이 안에는 DOM 엘리먼트, 그리고 스타일을 갖고있으며 
프리젠테이셔널 컴포넌트나 컨테이너 컴포넌트를 가지고 있을 수 있습니다.

또한, 대부분의 경우 state를 갖고 있지 않으며
갖고있을 경우엔 데이터에 관련된것이 아니라 UI에 관련된 것이어야합니다.

주로 함수형 컴포넌트로 작성되며 state를 갖고있어야하거나
최적화를 위해 생명주기가 필요해질 때 클래스형 컴포넌트로 작성됩니다.

### containers
store에 접근이 닿는 container 컴포넌트들이 저장됩니다.

#### Container 컴포넌트

이 컴포넌트는 프리젠테이셔널 컴포넌트들과 컨테이너 컴포넌트들을 관리하는것을 담당합니다.
주로 내부에 DOM 엘리먼트가 직접적으로 사용되는 경우는 없습니다. 사용되는 경우는 감싸는 용도일 때만 사용됩니다.

또한, 스타일을 가지고있지 않아야합니다. 스타일들은 모두 프리젠테이셔널 컴포넌트에 정의되어야 합니다.
상태를 가지고 있을 때가 많으며 리덕스에 직접적으로 접근할 수 있습니다.

#### 이 구조의 장점
UI쪽과 Data쪽이 분리되어 프로젝트를 이해하기 쉬워지며 컴포넌트의 재사용률도 높여줍니다.

#### 어떤걸 컨테이너로 만들어야할까?
- 페이지
- 리스트
- 헤더
- 사이드바
- 내부의 컴포넌트 때문에 props가 여러 컴포넌트를 거쳐야하는 경우

#### 오해
컨터에니 컴포넌트라고해서 무조건 구 내부에 여러 컴포넌트가 있어야하는것이 아닙니다.
예를들어 item이란 프리젠테이셔널 컴포넌트가 있다면, ItemContainer라는 컴포넌트를 만들어서 그 안에
item컴포넌트 하나만 넣고 데이터를 연결해주는것도 가능합니다.

추가적으로 어떤걸 컨테이너로 만들지, 그리고 이 구조를 사용할지는 여러분의 자유입니다.
이 구조는 리덕스의 창시자 Dan Abramov가 공유한 구조이긴 하나, 무조건 따라야할 규칙이 아닙니다.
따라하면 유용한 팁일수도 있고 어쩌면 여러분들의 개발 흐름에 어울리지 않을 수도 있습니다.
무조건 프리젠테이셔널 컴포넌트로 분리하지 않고 그냥 DOM 엘리먼트를 지닌 컴포넌트에 직접 리덕스를 연결해도 상관없습니다.
그러다 나중에 컴포넌트를 재사용해야될때쯤 다시 분리시켜도 되구요

### reducers
스토어의 기본상태와, 상태의 업데이트를 담당하는 리듀서 파일들이 저장됩니다.

리듀서는 액션의 type에 따라 변화를 일으키는 함수입니다.
그리고 이 리듀서 파일에는 최초변화를 일으키기 전 지니고 있어야할 **초기상태**가 정의되어야 합니다.

초기상태를 선언한 reducers는 src/reducers/index.js를 참조하세요

### utils
일부 컴포넌트들에서 공용되는 파일이 저장됩니다.

src/utils/index.js 파일은 색상을 랜덤으로 만들어주는 함수
src/containers/CounterContainer.js에서 사용된다